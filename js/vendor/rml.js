var RML=function(){var l=Array.prototype.slice,g=Object.prototype.toString,f="[object Array]",j="[object Function]",k="[object Object]";function n(a,b,d,c){var e=a[1];if(g.call(b)===f)b=b.join(c);switch(d){case 1:case true:a.push(" ",b,"/>");break;case 2:a.push(" ",b,">");break;default:a.push(">",b,"</",e,">")}return a.join("")}function o(a,b,d,c,e){var h=false,m=a[1],i;if(c.has(b,"content"))h=true;for(i in b)c.has(b,i)&&!c.filter[i]&&a.push(c.rsub(i,b[i]));switch(d){case 1:case true:a.push("/>");
break;case 2:a.push(">");break;default:a.push(">");if(h)switch(g.call(b.content)){case j:a.push(b.content());break;case f:a.push(b.content.join(e));break;default:a.push(b.content)}a.push("</",m,">")}return a.join("")}return{cache:function(a,b){this.cached[a]=this.compile(b)},cached:{},compile:function(a){return this.template(a)},filter:{content:true},has:function(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)},iterate:function(a,b,d){var c,e=[],h=a.length||0;switch(g.call(a)){case f:if(d)for(c=
0;c<h;c++){d.content=a[c];e.push(RML.tag(b,d))}else for(c=0;c<h;c++)e.push(RML[b](a[c]));break;case k:for(c in a)this.has(a,c)&&e.push(RML[b](a[c]));break}return e.join("")},rsub:function(a,b){a=a.replace(/_/,"");var d=b?' %1="%2"':" %1";return b?d.replace("%1",a).replace("%2",b):d.replace("%1",a)},siblings:function(){var a=l.call(arguments,0);return a.join("")},strSub:function(a,b){return this.template(a,b)},tag:function(a,b,d,c){b=b||"";c=c||"";a=["<",a];return g.call(b)!==k?n(a,b,d,c):o(a,b,d,
this,c)},tags:{a:0,b:0,br:1,canvas:0,code:0,div:0,dl:0,dd:0,dt:0,em:0,form:0,h1:0,h2:0,h3:0,h4:0,hr:1,i:0,img:0,input:1,li:0,link:1,ol:0,p:0,pre:0,script:0,select:0,strong:0,span:0,table:0,tbody:0,td:0,textarea:0,th:0,thead:0,tr:0,ul:0},template:function(a,b){var d=g.call(a)===f?a.join(""):a;function c(e){return d.replace(/\$\{(.+?)\}/g,function(h,m){return e[m]})}return b?c(b):c}}}();
(function(){var l=RML.has,g=RML.tags,f;for(f in g)if(l(g,f))RML[f]=function(j){return function(k){return this.tag(j,k,this.tags[j])}}(f)})();
